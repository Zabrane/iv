# Test results
Generated by [apl_test](apl/primitives/apl_test.go) from `apl/primitives/gen.go` on 2019-01-06 01:55:52
- [Basic numbers and arithmetics](#basic-numbers-and-arithmetics)
- [Vectors](#vectors)
- [Braces](#braces)
- [Comparison](#comparison)
- [Boolean, logical](#boolean,-logical)
- [Least common multiple, greatest common divisor](#least-common-multiple,-greatest-common-divisor)
- [Multiple expressions](#multiple-expressions)
- [Index origin](#index-origin)
- [Type, typeof](#type,-typeof)
- [Bracket indexing](#bracket-indexing)
- [Scalar primitives with axis](#scalar-primitives-with-axis)
- [Iota](#iota)
- [Rho, reshape](#rho,-reshape)
- [Where, interval index](#where,-interval-index)
- [Membership](#membership)
- [Without](#without)
- [Unique, union](#unique,-union)
- [Find](#find)
- [Magnitude, Residue, Ceil, Floor, Min, Max](#magnitude,-residue,-ceil,-floor,-min,-max)
- [Factorial, gamma, binomial](#factorial,-gamma,-binomial)
- [Match, Not match, tally, depth](#match,-not-match,-tally,-depth)
- [Left tack, right tack](#left-tack,-right-tack)
- [Array expressions](#array-expressions)
- [Ravel, enlist, catenate, join](#ravel,-enlist,-catenate,-join)
- [Ravel with axis](#ravel-with-axis)
- [Laminate](#laminate)
- [Table, catenate first](#table,-catenate-first)
- [Decode](#decode)
- [Encode, representation](#encode,-representation)
- [Reduce, reduce first, reduce with axis](#reduce,-reduce-first,-reduce-with-axis)
- [N-wise reduction](#n-wise-reduction)
- [Scan, scan first, scan with axis](#scan,-scan-first,-scan-with-axis)
- [Replicate, compress](#replicate,-compress)
- [Expand, expand first](#expand,-expand-first)
- [Pi times, circular, trigonometric](#pi-times,-circular,-trigonometric)
- [Take, drop](#take,-drop)
- [Format as a string, Execute](#format-as-a-string,-execute)
- [Grade up, grade down, sort](#grade-up,-grade-down,-sort)
- [Reverse, revere first](#reverse,-revere-first)
- [Rotate](#rotate)
- [Transpose](#transpose)
- [Enclose, string catenation, join strings, newline](#enclose,-string-catenation,-join-strings,-newline)
- [Domino, solve linear system](#domino,-solve-linear-system)
- [Dates, Times and durations](#dates,-times-and-durations)
- [Basic operators](#basic-operators)
- [Identify item for reduction over empty array](#identify-item-for-reduction-over-empty-array)
- [Outer product](#outer-product)
- [Each](#each)
- [Commute, duplicate](#commute,-duplicate)
- [Composition](#composition)
- [Power operator](#power-operator)
- [Rank operator](#rank-operator)
- [At](#at)
- [Stencil](#stencil)
- [Assignment, specification](#assignment,-specification)
- [Indexed assignment](#indexed-assignment)
- [Multiple assignment](#multiple-assignment)
- [Vector assignment](#vector-assignment)
- [Modified assignment](#modified-assignment)
- [Selective assignment/specification](#selective-assignment/specification)
- [Lambda expressions](#lambda-expressions)
- [Evaluation order](#evaluation-order)
- [Lexical scoping](#lexical-scoping)
- [Default left argument](#default-left-argument)
- [Recursion](#recursion)
- [Tail call](#tail-call)
- [Trains, forks, atops](#trains,-forks,-atops)
- [Go interface package strings](#go-interface-package-strings)
- [Lists](#lists)
- [Lists catenate, enlist, cut, each](#lists-catenate,-enlist,-cut,-each)
- [List indexing](#list-indexing)
- [Indexing with lists is not supported](#indexing-with-lists-is-not-supported)
- [List indexed assignment](#list-indexed-assignment)
- [Dictionaries](#dictionaries)
- [Table, transpose a dict to create a table](#table,-transpose-a-dict-to-create-a-table)
- [Indexing tables](#indexing-tables)
- [Elementary functions on dicts and tables](#elementary-functions-on-dicts-and-tables)
- [Catenate tables or objects](#catenate-tables-or-objects)
- [Reduction over objects and tables](#reduction-over-objects-and-tables)
- [Object, xgo example](#object,-xgo-example)
- [Channels read, write and close](#channels-read,-write-and-close)
- [Reduce, scan and each over channel](#reduce,-scan-and-each-over-channel)
- [Communicate over a channel](#communicate-over-a-channel)
- [Primes](#primes)
- [π](#π)
- [Conway-completeness](#conway-completeness)

```apl
```
## Basic numbers and arithmetics

```apl
	1
1

	1+1
2

	1-2
¯1

	¯1
¯1

	1-¯2
3

	1a90
0J1

	1a60+1a300
1J0

	1J1
1J1

```
## Vectors

```apl
	1 2 3
1 2 3

	1+1 2 3
2 3 4

	1 2 3+¯1
0 1 2

	1 2 3+4 5 6
5 7 9

```
## Braces
[→apl/parse.go](apl/parse.go)

```apl
	1 2+3 4
4 6

	(1 2)+3 4
4 6

	1×2+3×4
14

	1×(2+3)×4
20

	(3×2)+3×4
18

	3×2+3×4
42

```
## Comparison
[→apl/primitives/compare.go](apl/primitives/compare.go)

```apl
	1 2 3 4 5 > 2
0 0 1 1 1

	1 2 3 4 5 ≥ 3
0 0 1 1 1

	2 4 6 8 10<6
1 1 0 0 0

	2 4 6 8 10≤6
1 1 1 0 0

	1 2 3 ≠ 1.1 2 3
1 0 0

	3=3.1 3 ¯2 ¯3 3J0
0 1 0 0 1

	2+2=2
3

	2×1 2 3=4 2 1
0 2 0

	-3<4
¯1

	-1 2 3=0 2 3
0 ¯1 ¯1

⍝ TODO Comparison tolerance is not implemented.
```
## Boolean, logical
[→apl/primitives/boolean.go](apl/primitives/boolean.go)

```apl
	0 1 0 1 ^ 0 0 1 1
0 0 0 1

	0 1 0 1 ∧ 0 0 1 1
0 0 0 1

	0^0 0 1 1
0 0 0 0

	0 0 1 1∨0 1 0 1
0 1 1 1

	1∨0 1 0 1
1 1 1 1

	0 0 1 1⍱0 1 0 1
1 0 0 0

	0 0 1 1⍲0 1 0 1
1 1 1 0

	~0
1

	~1.0
0

	~0 1
1 0

```
## Least common multiple, greatest common divisor
[→apl/primitives/boolean.go](apl/primitives/boolean.go)

```apl
	30^36
180

	0^3
0

	3^0
0

	15 1 2 7 ^ 35 1 4 0
105 1 4 0

	30∨36
6

	15 1 2 7 ∨ 35 1 4 0
5 1 2 7

	0∨3
3

	3∨0
3

	3^3.6
18

	3∨3.6
0.6

⍝ TODO: lcm and gcm of float and complex
```
## Multiple expressions
[→apl/parse.go](apl/parse.go)

```apl
	1⋄2⋄3
1
2
3

	1⋄2
1
2

	1 2⋄3 4
1 2
3 4

	X←3 ⋄ Y←4

```
## Index origin
[→apl/var.go](apl/var.go)

```apl
	⎕IO←0 ⋄ ⍳3
0 1 2

	⎕IO
1

	⎕IO←0 ⋄ ⎕IO
0

```
## Type, typeof
[→apl/primitives/type.go](apl/primitives/type.go)

```apl
	⌶'a'
apl.String

```
## Bracket indexing
[→apl/primitives/index.go](apl/primitives/index.go)

```apl
	A←⍳6 ⋄ A[1]
1

	A←2 3⍴⍳6 ⋄ A[1;] ⋄ ⍴A[1;]
1 2 3
3

	A←2 3⍴⍳6 ⋄ A[2;3]
6

	A←2 3⍴⍳6 ⋄ A[2;2 3]
5 6

	A←2 3⍴⍳6 ⋄ ⍴⍴A[2;3]
0

	A←2 3 4 ⋄ A[]
2 3 4

	⎕IO←0 ⋄ A←2 3⍴⍳6 ⋄ A[1;2]
5

	5 6 7[2+1]
7

	(2×⍳3)[2]
4

	A←2 3 ⍴⍳6⋄A[A[1;1]+1;]
4 5 6

	A←1 2 3⋄A[3]+1
4

	A←1 2 3⋄1+A[3]
4

```
## Scalar primitives with axis
[→apl/primitives/array.go](apl/primitives/array.go)

```apl
	(2 3⍴⍳6)+[2]1 2 3
2 4 6
5 7 9

	1 2 3 +[2] 2 3⍴⍳6
2 4 6
5 7 9

	K←2 3⍴.1×⍳6⋄J←2 3 4⍴⍳24⋄N←J+[1 2]K⋄⍴N⋄N[1;2;3]⋄N[2;3;4]
2 3 4
7.2
24.6

```
## Iota
[→apl/primitives/iota.go](apl/primitives/iota.go)

```apl
	⍳5
1 2 3 4 5

	⍳0


```
## Rho, reshape
[→apl/primitives/rho.go](apl/primitives/rho.go)

```apl
	⍴⍳5
5

	⍴5


	⍴⍴5
0

	⍴⍳0
0

	⍴⍴⍳0
1

	2 3⍴1
1 1 1
1 1 1

	3⍴⍳0
0 0 0

	⍴0 2⍴⍳0
0 2

	⍴3 0⍴⍳0
3 0

	⍴3 0⍴3
3 0

	⍳'a'
Must fail: strings are not in the input domain of ⍳
```
## Where, interval index
[→apl/primitives/iota.go](apl/primitives/iota.go)

```apl
	⍸1 0 1 0 0 0 0 1 0
1 3 8

	⍸'e'='Pete'
2 4

	⍸1=1
1

	10 20 30⍸11 1 31 21
1 0 3 2

	'AEIOU'⍸'DYALOG'
1 5 1 3 4 2

	0.8 2 3.3⍸1.3 1.9 0.7 4 .6 3.2
1 1 0 3 0 2

```
## Membership
[→apl/primitives/iota.go](apl/primitives/iota.go)

```apl
	'BANANA'∊'AN'
0 1 1 1 1 1

	5 1 2∊6 5 4 1 9
1 1 0

	(2 3⍴8 3 5 8 4 8)∊1 8 9 3
1 1 0
1 0 1

	8 9 7 3∊⍳0
0 0 0 0

	3.1 5.1 7.1∊2 2⍴1.1 3.1 5.1 4.1
1 1 0

	19∊'CLUB'
0

	'BE'∊'BOF'
1 0

	'NADA'∊⍳0
0 0 0 0

	(⌈/⍳0)∊⌊/⍳0
0

	5 10 15∊⍳10
1 1 0

```
## Without
[→apl/primitives/boolean.go](apl/primitives/boolean.go)

```apl
	1 2 3 4 5~2 3 4
1 5

	'RHYME'~'MYTH'
R E

	1 2~⍳0
1 2

	1~3
1

	3~3


	⍴⍳0~1 2
0

	5 10 15~⍳10
15

	3 1 4 1 5 5~3 1 4 1 5 5~4 2 5 2 6
4 5 5

```
## Unique, union
[→apl/primitives/unique.go](apl/primitives/unique.go)

```apl
	∪3
3

	⍴∪3
1

	∪ 22 10 22 22 21 10 5 10
22 10 21 5

	∪2 7 1 8 2 8 1 8 2 8 4 5 9 0 4 4 9
2 7 1 8 4 5 9 0

	∪'MISSISSIPPI'
M I S P

	⍴∪⍳0
0

	∪⍳0


	3∪3
3

	⍴3∪3
1

	3∪⍳0
3

	(⍳0)∪3
3

	⍴(⍳0)∪⍳0
0

	1 2 3∪5 3 2 1 4
1 2 3 5 4

	5 6 7∪1 2 3
5 6 7 1 2 3

```
## Find
[→apl/primitives/find.go](apl/primitives/find.go)

```apl
	'AN'⍷'BANANA'
0 1 0 1 0 0

	'ANA'⍷'BANANA'
0 1 0 1 0 0

	(2 2⍴1)⍷1 2 3
0 0 0

	(2 2⍴5 6 8 9)⍷3 3⍴⍳9
0 0 0
0 1 0
0 0 0

	4 5 6⍷3 3⍴⍳9
0 0 0
1 0 0
0 0 0

```
## Magnitude, Residue, Ceil, Floor, Min, Max
[→apl/primitives/elementary.go](apl/primitives/elementary.go)

```apl
	|1 ¯2 ¯3.2 2.2a20
1 2 3.2 2.2

	3 3 ¯3 ¯3|¯5 5 ¯4 4
1 2 ¯1 ¯2

	0.5|3.12 ¯1 ¯0.6
0.12 0 0.4

	¯1 0 1|¯5.25 0 2.41
¯0.25 0 0.41

	1j2|2j3 3j4 5j6
1J1 ¯1J1 0J1

	4J6|7J10
3J4

	¯10 7J10 .3|17 5 10
¯3 ¯5J7 0.1

	⌊¯2.3 0.1 100 3.3
¯3 0 100 3

	⌊0.5 + 0.4 0.5 0.6
0 1 1

	⌊1j3.2 3.3j2.5 ¯3.3j¯2.5
1J3 3J2 ¯3J¯3

	⌊1.5J2.5
2J2

	⌊1J2 1.2J2.5 ¯1.2J¯2.5
1J2 1J2 ¯1J¯3

	⌈¯2.7 3 .5
¯2 3 1

	⌈1.5J2.5
1J3

	⌈1J2 1.2J2.5 ¯1.2J¯2.5
1J2 1J3 ¯1J¯2

	⌈¯2.3 0.1 100 3.3
¯2 1 100 4

	⌈1.2j2.5 1.2j¯2.5
1J3 1J¯2

	5⌊4 5 7
4 5 5

	¯2⌊¯3
¯3

	3.3 0 ¯6.7⌊3.1 ¯4 ¯5
3.1 ¯4 ¯6.7

	¯2.1 0.1 15.3 ⌊ ¯3.2 1 22
¯3.2 0.1 15.3

	5⌈4 5 7
5 5 7

	¯2⌈¯3
¯2

	3.3 0 ¯6.7⌈3.1 ¯4 ¯5
3.3 0 ¯5

	¯2.01 0.1 15.3 ⌈ ¯3.2 ¯1.1 22.7
¯2.01 0.1 22.7

```
## Factorial, gamma, binomial
[→apl/primitives/elementary.go](apl/primitives/elementary.go)

```apl
	!4
24

	!1 2 3 4 5
1 2 6 24 120

	!3J2
¯3.0115J1.7702

	!.5 ¯.05
0.88623 1.0315

	2!5
10

	3.2!5.2
10.92

	3!¯2
¯4

	¯6!¯3
¯10

	2 3 4!6 18 24
15 816 10626

	3!.05 2.5 ¯3.6
0.015437 0.3125 ¯15.456

	0 1 2 3!3
1 3 3 1

	2!3J2
1J5

```
## Match, Not match, tally, depth
[→apl/primitives/match.go](apl/primitives/match.go)

```apl
	≡5
0

	≡⍳0
1

	≡"alpha"
0

	≢2 3 4⍴⍳10
2

	≢2
1

	≢⍳0
0

	1 2 3≡1 2 3
1

	3≡1⍴3
0

	""≡⍳0
0

	''≡⍳0
1

	2.0-1.0≡1>0
1

	1≢2
1

	1≢1
0

	3≢1⍴3
1

	""≢⍳0
1

```
## Left tack, right tack
[→apl/primitives/tack.go](apl/primitives/tack.go)

```apl
	⊣1 2 3
1 2 3

	3 2 1⊣1 2 3
3 2 1

	1 2 3⊢3 2 1
3 2 1

	⊢4
4

	⊣/1 2 3
1

	⊢/1 2 3
3

	⊣/2 3⍴⍳6
1 4

	⊢/2 3⍴⍳6
3 6

```
## Array expressions
[→apl/primitives/array.go](apl/primitives/array.go)

```apl
	-⍳3
¯1 ¯2 ¯3

```
## Ravel, enlist, catenate, join
[→apl/primitives/comma.go](apl/primitives/comma.go)

```apl
	,2 3⍴⍳6
1 2 3 4 5 6

	⍴,3
1

	⍴,⍳0
0

	1 2 3,4 5 6
1 2 3 4 5 6

	"abc",1 2
abc 1 2

	(2 3⍴⍳6),2 2⍴7 8 9 10
1 2 3 7  8
4 5 6 9 10

	2 3≡2,3
1

	(1 2 3,4 5 6)≡⍳6
1

	0,2 3⍴1
0 1 1 1
0 1 1 1

	0,[1]2 3⍴⍳6
0 0 0
1 2 3
4 5 6

	(2 3⍴⍳6),[1]0
1 2 3
4 5 6
0 0 0

	(2 3⍴⍳6),[1]5 4 3
1 2 3
4 5 6
5 4 3

	⍴(3 5⍴⍳15),[1]3 3 5⍴-⍳45
4 3 5

	⍴(3 5⍴⍳15),[2]3 3 5⍴-⍳45
3 4 5

```
## Ravel with axis
[→apl/primitives/comma.go](apl/primitives/comma.go)

```apl
	,[0.5]1 2 3
1 2 3

	⍴,[0.5]1 2 3
1 3

	,[1.5]1 2 3
1
2
3

	⍴,[1.5]1 2 3
3 1

	A←3 4⍴⍳12⋄⍴,[0.5]A
1 3 4

	A←3 4⍴⍳12⋄⍴,[1.5]A
3 1 4

	A←3 4⍴⍳12⋄⍴,[2.5]A
3 4 1

	A←2 3⍴⍳6⋄⍴,[.1]A
1 2 3

	A←2 3⍴⍳6⋄⍴,[1.1]A
2 1 3

	A←2 3⍴⍳6⋄⍴,[2.1]A
2 3 1

	,[1.1]5 6 7
5
6
7

	A←2 3 4⍴⍳24⋄A←,[1 2]A⋄⍴A⋄A[5;3]
6 4
19

	A←2 3 4⍴⍳24⋄⍴,[2 3]A
2 12

	A←3 2 4⍴⍳24⋄⍴,[2 3]A
3 8

	A←3 2 4⍴⍳24⋄⍴,[1 2]A
6 4

	⍴,[⍳0]1 2 3
3 1

	⍴,[⍳0]2 3⍴⍳6
2 3 1

	A←3 2 5⍴⍳30⋄⍴,[⍳⍴⍴A],[.5]A
6 5

	A←2 3 4⍴⍳24⋄(,[2 3]A)←2 12⍴-⍳24⋄⍴A⋄A[1;3;4]
2 3 4
¯12

```
## Laminate
[→apl/primitives/comma.go](apl/primitives/comma.go)

```apl
	1 2 3,[0.5]4
1 2 3
4 4 4

	1 2 3,[1.5]4
1 4
2 4
3 4

	⎕IO←0⋄1 2 3,[¯0.5]4
1 2 3
4 4 4

	'FOR',[.5]'AXE'
F O R
A X E

	'FOR',[1.1]'AXE'
F A
O X
R E

```
## Table, catenate first
[→apl/primitives/comma.go](apl/primitives/comma.go)

```apl
	⍪0
0

	⍴⍪0
1 1

	⍪⍳4
1
2
3
4

	⍪2 2⍴⍳4
1 2
3 4

	⍪2 2 2⍴⍳8
1 2 3 4
5 6 7 8

	10 20⍪2 2⍴⍳4
10 20
1  2
3  4

```
## Decode
[→apl/primitives/decode.go](apl/primitives/decode.go)

```apl
	3⊥1 2 1
16

	3⊥4 3 2 1
142

	2⊥1 1 1 1
15

	1 2 3⊥3 2 1
25

	1J1⊥1 2 3 4
5J9

	24 60 60⊥2 23 12
8592

	(2 1⍴2 10)⊥3 2⍴ 1 4 0 3 1 2
5  24
101 432

```
## Encode, representation
[→apl/primitives/decode.go](apl/primitives/decode.go)

```apl
	2 2 2 2⊤15
1 1 1 1

	10⊤5 15 125
5 5 5

	⍴10⊤5 15 125
3

	⍴(1 1⍴10)⊤5 15 125
1 1 3

	0 10⊤5 15 125
0 1 12
5 5  5

	0 1⊤1.25 10.5
1  10
0.25 0.5

	24 60 60⊤8592
2 23 12

	2 2 2 2 2⊤15
0 1 1 1 1

	2 2 2⊤15
1 1 1

	4 5 6⊤⍳0


	⍴4 5 6⊤⍳0
3 0

	⍴(⍳0)⊤4 5 6
0 3

	((⌊1+2⍟135)⍴2)⊤135
1 0 0 0 0 1 1 1

	24 60 60⊤162507
21 8 27

	0 24 60 60⊤162507
1 21 8 27

	10 10 10⊤215 345 7
2 3 0
1 4 0
5 5 7

	(4 2⍴8 2)⊤15
0 1
0 1
1 1
7 1

	3 2J3⊤2
0J2 ¯1J2

	0 2J3⊤2
0J¯1 ¯1J2

	3 2J3⊤2
0J2 ¯1J2

	3 2J3⊤2 1
0J2  0J2
¯1J2 ¯2J2

	10⊥2 2 2 2⊤15
1111

	10 10 10⊤123
1 2 3

	10 10 10⊤123 456
1 4
2 5
3 6

	2 2 2⊤¯1
1 1 1

	0 2 2⊤¯1
¯1 1 1

	0 1⊤3.75 ¯3.75
3   ¯4
0.75 0.25

	1 0⊤0
0 0

	0⊤0
0

	0⊤0 0
0 0

	0 0⊤0
0 0

	1 0⊤234
0 234

```
## Reduce, reduce first, reduce with axis
[→apl/operators/reduce.go](apl/operators/reduce.go)

```apl
	+/1 2 3
6

	+⌿1 2 3
6

	+/2 3 1 ⍴⍳6
1 2 3
4 5 6

	⍴+/3


	⍴+/1 1⍴3
1

	+/2 3⍴⍳6
6 15

	+⌿2 3⍴⍳6
5 7 9

	+/⍳0
0

	+/1
1

	+/1⍴1
1

	-/1⍴1
1

	+/[1]2 3⍴⍳6
5 7 9

	+/[1]3 4⍴⍳12
15 18 21 24

	+/[2]3 4⍴⍳12
10 26 42

	×/[1]3 4 ⍴⍳12
45 120 231 384

	÷/[2]2 1 4⍴2×⍳8
2  4  6  8
10 12 14 16

	÷/[2]2 0 3⍴0
1 1 1
1 1 1

```
## N-wise reduction
[→apl/operators/reduce.go](apl/operators/reduce.go)

```apl
	6+/⍳6
21

	4+/⍳6
10 14 18

	5+/⍳6
15 20

	3+/⍳6
6 9 12 15

	1+/⍳6
1 2 3 4 5 6

	0+/⍳0
0

	⍴0+/⍳0
1

	1+/⍳0


	¯1+/⍳0


	⍴4+/2 3⍴⍳6
2 0

	2+/3 4⍴⍳12
3  5  7
11 13 15
19 21 23

	¯2-/1 4 9 16 25
3 5 7 9

	2-/1 4 9 16 25
¯3 ¯5 ¯7 ¯9

	3×/⍳6
6 24 60 120

	¯3×/⍳6
6 24 60 120

	0×/⍳5
1 1 1 1 1 1

	4+/[1]4 3⍴⍳12
22 26 30

	3+/[1]4 3⍴⍳12
12 15 18
21 24 27

	2+/[1]4 3⍴⍳12
5  7  9
11 13 15
17 19 21

	0×/[1]2 3⍴⍳12
1 1 1
1 1 1
1 1 1

	1+/⍳6
1 2 3 4 5 6

	S←0.0 n→f "%.0f" ⋄ +/1000+/⍳10000
45009500500

```
## Scan, scan first, scan with axis
[→apl/operators/reduce.go](apl/operators/reduce.go)

```apl
	+\1 2 3 4 5
1 3 6 10 15

	+\2 3⍴⍳6
1 3  6
4 9 15

	+⍀2 3⍴⍳6
1 2 3
5 7 9

	-\1 2 3
1 ¯1 2

	∨/0 0 1 0 0 1 0
1

	^\1 1 1 0 1 1 1
1 1 1 0 0 0 0

	+\1 2 3 4 5
1 3 6 10 15

	+\[1]2 3⍴⍳6
1 2 3
5 7 9

```
## Replicate, compress
[→apl/operators/reduce.go](apl/operators/reduce.go)

```apl
	1 1 0 0 1/'STRAY'
S T Y

	1 0 1 0/3 4⍴⍳12
1  3
5  7
9 11

	1 0 1/1 2 3
1 3

	1/1 2 3
1 2 3

	3 2 1/1 2 3
1 1 1 2 2 3

	1 0 1/2
2 2

	⍴1/1
1

	⍴⍴(,1)/2
1

	3 4/1 2
1 1 1 2 2 2 2

	1 0 1 0 1/⍳5
1 3 5

	1 ¯2 3 ¯4 5/⍳5
1 0 0 3 3 3 0 0 0 0 5 5 5 5 5

	2 0 1/2 3⍴⍳6
1 1 3
4 4 6

	0 1⌿2 3⍴⍳6
4 5 6

	0 1⌿⍴⍳6
6

	1 0 1/4
4 4

	1 0 1/,3
3 3

	1 0 1/1 1⍴5
5 5

	1 2/[2]2 2 1⍴⍳4
1
2
2

3
4
4

	A←2 ¯1 1/[1]3 2 4⍴⍳24⋄⍴A⋄+/+/A
4 2 4
36 36 0 164

	⍴2/[2]3 2 4⍴⍳24
3 4 4

	⍴¯1 1/[2]3 1 4⍴⍳12
3 2 4

	⍴1 0 2 ¯1⌿[2]3 4⍴⍳12
3 4

	0 1/[1]2 3⍴⍳6
4 5 6

	B←2 2⍴'ABCD'⋄A←3 2⍴⍳6⋄(1 0 1/[1]A)←B⋄A
A B
3 4
C D

```
## Expand, expand first
[→apl/operators/reduce.go](apl/operators/reduce.go)

```apl
	1 0 1 0 0 1\1 2 3
1 0 2 0 0 3

	1 0 0\5
5 0 0

	0 1 0\3 1⍴7 8 9
0 7 0
0 8 0
0 9 0

	1 0 0 1 0 1\7 8 9
7 0 0 8 0 9

	⍴(⍳0)\3
0

	⍴(⍳0)\2 0⍴3
2 0

	⍴1 0 1\0 2⍴0
0 3

	0 0 0\2 0⍴0
0 0 0
0 0 0

	1 0 1⍀2 3⍴⍳6
1 2 3
0 0 0
4 5 6

	0\⍳0
0

	1 ¯2 3 ¯4 5\3
3 0 0 3 3 3 0 0 0 0 3 3 3 3 3

	1 0 1\1 3
1 0 3

	1 0 1\2
2 0 2

	1 0 1 1\1 2 3
1 0 2 3

	1 0 1 1⍀3
3 0 3 3

	0 1\3 1⍴3 2 4
0 3
0 2
0 4

	0 0\5
0 0

	1 0 1⍀2 3⍴⍳6
1 2 3
0 0 0
4 5 6

	1 0 1\3 2⍴⍳6
1 0 2
3 0 4
5 0 6

	1 0 1 1\2 3⍴⍳6
1 0 2 3
4 0 5 6

	1 0 1\[1]2 3⍴⍳6
1 2 3
0 0 0
4 5 6

⍝ TODO expand with selective specification
```
## Pi times, circular, trigonometric
[→apl/primitives/elementary.go](apl/primitives/elementary.go)

```apl
	○0 1 2
0 3.1416 6.2832

	*○0J1
¯1.00J0.00

	0 ¯1 ○ 1
0 1.5708

	1○(○1)÷2 3 4
1 0.86603 0.70711

	2○(○1)÷3
0.5

	9 11○3.5J¯1.2
3.5 ¯1.2

	9 11∘.○3.5J¯1.2 2J3 3J4
3.5 2 3
¯1.2 3 4

	¯4○¯1
0

	3○2
¯2.185

	2○1
0.5403

	÷3○2
¯0.45766

	1○○30÷180
0.5

	2○○45÷180
0.70711

	¯1○1
1.5708

	¯2○.54032023059
0.99998

	(¯1○.5)×180÷○1
30

	(¯3○1)×180÷○1
45

	5○1
1.1752

	6○1
1.5431

	¯5○1.175201194
1

	¯6○1.543080635
1

```
## Take, drop
[→apl/primitives/take.go](apl/primitives/take.go)

```apl
	5↑'ABCDEF'
A B C D E

	5↑1 2 3
1 2 3 0 0

	¯5↑1 2 3
0 0 1 2 3

	2 3↑2 4⍴⍳8
1 2 3
5 6 7

	¯1 ¯2↑2 4⍴⍳8
7 8

	1↑2
2

	⍴1↑2
1

	1 1 1↑2
2

	⍴1 1 1↑2
1 1 1

	(⍳0)↑2
2

	⍴(⍳0)↑2


	2↑⍳0
0 0

	2 3↑2
2 0 0
0 0 0

	4↓'OVERBOARD'
B O A R D

	¯5↓'OVERBOARD'
O V E R

	⍴10↓'OVERBOARD'
0

	0 ¯2↓3 3⍴⍳9
1
4
7

	¯2 ¯1↓3 3⍴⍳9
1 2

	1↓3 3⍴⍳9
4 5 6
7 8 9

	1 1↓2 3 4⍴⍳24
17 18 19 20
21 22 23 24

	¯1 ¯1↓2 3 4⍴⍳24
1 2 3 4
5 6 7 8

	3↓12 31 45 10 57
10 57

	¯3↓12 31 45 10 57
12 31

	0 2↓3 5⍴⍳15
3  4  5
8  9 10
13 14 15

	⍴3 1↓2 3⍴'ABCDEF'
0 2

	⍴2 3↓2 3⍴'ABCDEF'
0 0

	0↓4
4

	⍴0↓4
1

	0 0 0↓4
4

	⍴0 0 0↓4
1 1 1

	⍴1↓5
0

	⍴0↓5
1

	⍴1 2 3↓4
0 0 0

	''↓5
5

	⍴⍴''↓5
0

	1↑2 3⍴⍳6
1 2 3

	1↑[1]2 3⍴⍳6
1 2 3

	1 3↑[1 2]2 3⍴⍳6
1 2 3

	2↑[1]3 5⍴'GIANTSTORETRAIL'
G I A N T
S T O R E

	¯3↑[2]3 5⍴'GIANTSTORETRAIL'
A N T
O R E
A I L

	3↑[1]2 3⍴⍳6
1 2 3
4 5 6
0 0 0

	¯4↑[1]2 3⍴⍳6
0 0 0
0 0 0
1 2 3
4 5 6

	¯1 3↑[1 3]3 3 4⍴'HEROSHEDDIMESODABOARPARTLAMBTOTODAMP'
L A M
T O T
D A M

	2↑[2]2 3 4⍴⍳24
1 2 3 4
5 6 7 8

13 14 15 16
17 18 19 20

	2↑[3]2 3 4⍴⍳24
1  2
5  6
9 10

13 14
17 18
21 22

	2 ¯2↑[3 2]2 3 4⍴⍳24
5  6
9 10

17 18
21 22

	2 ¯2↑[2 3]2 3 4⍴⍳24
3 4
7 8

15 16
19 20

	1↓[1]3 4⍴'FOLDBEATRODE'
B E A T
R O D E

	1↓[2]3 4⍴'FOLDBEATRODE'
O L D
E A T
O D E

	A←3 4⍴'FOLDBEATRODE'⋄(1↓[1]A)≡1 0↓A
1

	A←3 4⍴'FOLDBEATRODE'⋄(1↓[2]A)≡0 1↓A
1

	A←3 2 4⍴⍳24⋄1 ¯1↓[2 3]A
5 6 7

13 14 15

21 22 23

	A←3 2 4⍴⍳24⋄1 ¯1↓[3 2]A
2 3 4

10 11 12

18 19 20

	A←2 3 4⍴⍳24⋄⍴1↓[2]A
2 2 4

	A←2 3 4⍴⍳24⋄2↓[3]A
3  4
7  8
11 12

15 16
19 20
23 24

	A←2 3 4⍴⍳24⋄2 1↓[3 2]A
7  8
11 12

19 20
23 24

```
## Format as a string, Execute
[→apl/primitives/format.go](apl/primitives/format.go)

```apl
	⍕10
10

	⍎"1+1"
2

⍝ TODO: dyadic format with specification.
⍝ TODO: dyadic execute with namespace.
```
## Grade up, grade down, sort
[→apl/primitives/grade.go](apl/primitives/grade.go)

```apl
	⍋23 11 13 31 12
2 5 3 1 4

	⍋23 14 23 12 14
4 2 5 1 3

	⍋5 3⍴4 16 37 2 9 26 5 11 63 3 18 45 5 11 54
2 4 1 5 3

	⍋22.5 1 15 3 ¯4
5 2 4 3 1

	⍒33 11 44 66 22
4 3 1 5 2

	⍋'alpha'
1 5 4 2 3

	'ABCDE'⍒'BEAD'
2 4 1 3

⍝ TODO dyadic grade up/down is only implemented for vector L
	A←23 11 13 31 12⋄A[⍋A]
11 12 13 23 31

```
## Reverse, revere first
[→apl/primitives/reverse.go](apl/primitives/reverse.go)

```apl
	⌽1 2 3 4 5
5 4 3 2 1

	⌽2 3⍴⍳6
3 2 1
6 5 4

	⊖2 3⍴⍳6
4 5 6
1 2 3

	⌽[1]2 3⍴⍳6
4 5 6
1 2 3

	⊖[2]2 3⍴⍳6
3 2 1
6 5 4

	A←2 3⍴⍳12 ⋄ (⌽[1]A)←2 3⍴-⍳6⋄A
¯4 ¯5 ¯6
¯1 ¯2 ¯3

	⌽'DESSERTS'
S T R E S S E D

```
## Rotate

```apl
	1⌽1 2 3 4
2 3 4 1

	10⌽1 2 3 4
3 4 1 2

	¯1⌽1 2 3 4
4 1 2 3

	(-7)⌽1 2 3 4
2 3 4 1

	1 2⌽2 3⍴⍳6
2 3 1
6 4 5

	(2 2⍴2 ¯3 3 ¯2)⌽2 2 4⍴⍳16
3 4 1 2
6 7 8 5

12  9 10 11
15 16 13 14

	(2 3⍴2 ¯3 3 ¯2 1 2)⊖2 2 3⍴⍳12
1  8 9
4 11 6

7 2  3
10 5 12

	(2 4⍴0 1 ¯1 0 0 3 2 1)⌽[2]2 2 4⍴⍳16
1 6 7 4
5 2 3 8

9 14 11 16
13 10 15 12

	A←3 4⍴⍳12⋄(1 ¯1 2 ¯2⌽[1]A)←3 4⍴'ABCDEFGHIJKL'⋄A
I F G L
A J K D
E B C H

```
## Transpose
[→apl/primitives/transpose.go](apl/primitives/transpose.go)

```apl
	1 2 1⍉2 3 4⍴⍳6
1 5 3
2 6 4

	⍉3 1⍴1 2 3
1 2 3

	⍴⍉2 3⍴⍳6
3 2

	+/+/1 3 2⍉2 3 4⍴⍳24
78 222

	+/+/3 2 1⍉2 3 4⍴⍳24
66 72 78 84

	+/+/2 1 3⍉2 3 4⍴⍳24
68 100 132

	1 1 1⍉2 3 3⍴⍳18
1 14

	1 1 1⍉2 3 4⍴'ABCDEFGHIJKL',⍳12
A 6

	1 1 2⍉2 3 4⍴'ABCDEFGHIJKL',⍳12
A B C D
5 6 7 8

	2 2 1⍉2 3 4⍴'ABCDEFGHIJKL',⍳12
A 5
B 6
C 7
D 8

	1 2 2⍉2 3 4⍴'ABCDEFGHIJKL',⍳12
A F  K
1 6 11

	1 2 1⍉2 3 4⍴'ABCDEFGHIJKL',⍳12
A E  I
2 6 10

	⍴⍴(⍳0)⍉5
0

	⍴2 1 3⍉3 2 4⍴⍳24
2 3 4

	⎕IO←0⋄⍴1 0 2⍉3 2 4⍴⍳24
2 3 4

	A←3 3⍴⍳9⋄(1 1⍉A)←10 20 30⋄A
10  2  3
4 20  6
7  8 30

```
## Enclose, string catenation, join strings, newline
[→apl/primitives/enclose.go](apl/primitives/enclose.go)

```apl
	⊂'alpha'
alpha

	"+"⊂'alpha'
a+l+p+h+a

	⎕NL⊂"alpha" "beta" "gamma"
alpha
beta
gamma

	`alpha`beta`gamma
alpha beta gamma

	(`alpha`beta`gamma)
alpha beta gamma

	`alpha`beta`gamma⋄
alpha beta gamma

```
## Domino, solve linear system
[→apl/primitives/domino.go](apl/primitives/domino.go)

```apl
	⌹2 2⍴2 0 0 1
0.5 0
0 1

	(1 ¯2 0)⌹3 3⍴3 2 ¯1 2 ¯2 4 ¯1 .5 ¯1
1
¯2
¯2

```
## Dates, Times and durations
[→apl/numbers/time.go](apl/numbers/time.go)

```apl
	2018.12.23
2018.12.23T00.00.00.000

	2018.12.23+12s
2018.12.23T00.00.12.000

	2018.12.24<2018.12.23
0

	⌊/3s 2s 10s 4s
2s

	2018.12.23-1s
2018.12.22T23.59.59.000

	2017.03.01-2017.02.28
24h0m0s

	2016.03.01-2016.02.28
48h0m0s

	3m-62s
1m58s

	-3s
-3s

	×¯3h 0s 2m 2015.01.02
¯1 0 1 1

	(|¯1s)+|1s
2s

	3×1h
3h0m0s

	1m × ⍳5
1m0s 2m0s 3m0s 4m0s 5m0s

	⍴⍪2018.12.23 + 1h×(¯1+⍳24)
24 1

	4m×42.195
2h48m46.8s

	⌈2018.12.23+3.5s
2018.12.23T00.00.04.000

	⌊3h÷42.195
4m15s

```
## Basic operators
[→apl/operators/](apl/operators/)

```apl
	+/1 2 3
6

	1 2 3 +.× 4 3 2
16

	(2 3⍴⍳6) +.× 3 2⍴5+⍳6
52  58
124 139

	-\×\+\1 2 3
1 ¯2 16

	+/+/+/+/1 2 3
6

	+.×/2 3 4
24

	S←0.0 n→f "%.0f"⋄ +.×.*/2 3 4
2417851639229258349412352

	+.*.×/2 3 4
24

```
## Identify item for reduction over empty array
[→apl/operators/identity.go](apl/operators/identity.go)

```apl
	+/⍳0
0

	-/⍳0
0

	×/⍳0
1

	÷/⍳0
1

	|/⍳0
0

	⌊/⍳0
¯1.7976931348623157e+308

	⌈/⍳0
1.7976931348623157e+308

	*/⍳0
1

	!/⍳0
1

	^/⍳0
1

	∧/⍳0
1

	∨/⍳0
0

	</⍳0
0

	≤/⍳0
1

	=/⍳0
1

	≥/⍳0
1

	>/⍳0
0

	≠/⍳0
0

	⊤/⍳0
0

	⌽/⍳0
0

	⊖/⍳0
0

	∨/0 3⍴ 1


	∨/3 3⍴ ⍳0
0 0 0

	∪/⍳0
0

```
## Outer product
[→apl/operators/dot.go](apl/operators/dot.go)

```apl
	10 20 30∘.+1 2 3
11 12 13
21 22 23
31 32 33

	(⍳3)∘.=⍳3
1 0 0
0 1 0
0 0 1

	1 2 3∘.×4 5 6
4  5  6
8 10 12
12 15 18

```
## Each
[→apl/operators/each.go](apl/operators/each.go)

```apl
	-¨1 2 3
¯1 ¯2 ¯3

	1+¨1 2 3
2 3 4

	1 2 3+¨1
2 3 4

	1 2 3+¨4 5 6
5 7 9

	1+¨1
2

```
## Commute, duplicate
[→apl/operators/commute.go](apl/operators/commute.go)

```apl
	∘.≤⍨1 2 3
1 1 1
0 1 1
0 0 1

	+/∘(÷∘⍴⍨)⍳10
5.5

	⍴⍨3
3 3 3

	3-⍨4
1

	+/2*⍨2 2⍴4 7 1 8
65 65

	3-⍨4
1

```
## Composition
[→apl/operators/jot.go](apl/operators/jot.go)

```apl
	+/∘⍳¨2 4 6
3 10 21

	1∘○ 10 20 30
¯0.54402 0.91295 ¯0.98803

	+∘÷/40⍴1
1.618

	(*∘0.5)4 16 25
2 4 5

```
## Power operator
[→apl/operators/power.go](apl/operators/power.go)

```apl
	⍟⍣2 +2 3 4
¯0.36651 0.094048 0.32663

	1+∘÷⍣=1
1.618

⍝ TODO: function inverse
```
## Rank operator
[→apl/operators/rank.go](apl/operators/rank.go)

```apl
	+\⍤0 +2 3⍴1
1 1 1
1 1 1

	+\⍤1 +2 3⍴1
1 2 3
1 2 3

	⍴⍤1 +2 3⍴1
3
3

	⍴⍤2 +2 3 5⍴1
3 5
3 5

	4 5+⍤1 0 2 +2 2⍴7 8 9 10
11 12
13 14

12 13
14 15

	⍉2 2 2⊤⍤1 0 ⍳5
0 0 0 1 1
0 1 1 0 0
1 0 1 0 1

	⍳⍤1 +3 1⍴⍳3
1 0 0
1 2 0
1 2 3

```
## At
[→apl/operators/at.go](apl/operators/at.go)

```apl
	(10 20@2 4)⍳5
1 10 3 20 5

	10 20@2 4⍳5
1 10 3 20 5

	((2 3⍴10 20)@2 4)4 3⍴⍳12
1  2  3
10 20 10
7  8  9
20 10 20

	⍴@(0.5∘<)3 3⍴1 4 0.2 0.3 0.3 4
5   5 0.2
0.3 0.3   5
5   5 0.2

	÷@2 4 ⍳5
1 0.5 3 0.25 5

	⌽@2 4 ⍳5
1 4 3 2 5

	10×@2 4⍳5
1 20 3 40 5

	(+\@2 4)4 3⍴⍳12
1  2  3
4  9 15
7  8  9
10 21 33

	0@(2∘|)⍳5
0 2 0 4 0

	÷@(2∘|)⍳5
1 2 0.33333 4 0.2

	⌽@(2∘|)⍳5
5 2 3 4 1

```
## Stencil
[→apl/operators/stencil.go](apl/operators/stencil.go)

```apl
	{⌈/⌈/⍵}⌺(3 3) ⊢3 3⍴⍳25
5 6 6
8 9 9
8 9 9

```
## Assignment, specification
[→apl/operators/assign.go](apl/operators/assign.go)

```apl
	X←3

	-X←3
¯3

	X←3⋄X←4

	X←3⋄⎕←X
3

	f←+

	f←+⋄⎕←3 f 3
6

	X←4⋄⎕←÷X
0.25

	A←2 3 ⋄ A
2 3

```
## Indexed assignment
[→apl/operators/assign.go](apl/operators/assign.go)

```apl
	A←2 3 4 ⋄ A[1]←1 ⋄ A
1 3 4

	A←2 2⍴⍳4 ⋄ +A[1;1]←3 ⋄ A
3
3 2
3 4

	A←⍳5 ⋄ A[2 3]←10 ⋄ A
1 10 10 4 5

	A←2 3⍴⍳6 ⋄ A[;2 3]←2 2⍴⍳4 ⋄ A
1 1 2
4 3 4

⍝ TODO: choose/reach indexed assignment
```
## Multiple assignment
[→apl/operators/assign.go](apl/operators/assign.go)

```apl
	A←B←C←D←1 ⋄ A B C D
1 1 1 1

```
## Vector assignment
[→apl/operators/assign.go](apl/operators/assign.go)

```apl
	(A B C)←2 3 4 ⋄ A ⋄ B ⋄ C 
2
3
4

	-A B C←1 2 3 ⋄ A B C
¯1 ¯2 ¯3
1 2 3

```
## Modified assignment
[→apl/operators/assign.go](apl/operators/assign.go)

```apl
	A←1 ⋄ A+←1 ⋄ A
2

	A←1 2⋄ A+←1 ⋄ A
2 3

	A←1 2 ⋄ A+←3 4 ⋄ A
4 6

	A←1 2 ⋄ A{⍺+⍵}←3 ⋄ A
4 5

	A B C←1 2 3 ⋄ A B C +← 4 5 6 ⋄ A B C
5 7 9

```
## Selective assignment/specification
[→apl/operators/assign.go](apl/operators/assign.go)

```apl
	A←10 20 30 40 ⋄ (2↑A)←100 200 ⋄ A
100 200 30 40

	A←'ABCD' ⋄ (3↑A)←1 2 3 ⋄ A
1 2 3 D

	A←1 2 3 ⋄ ((⍳0)↑A)←4 ⋄ A
4 4 4

	A←2 3⍴⍳6 ⋄ (,A)←2×⍳6 ⋄ A
2  4  6
8 10 12

	A←3 4⍴⍳12 ⋄ (4↑,⍉A)←10 20 30 40 ⋄ ,A 
10 40 3 4 20 6 7 8 30 10 11 12

	A←2 3⍴'ABCDEF' ⋄ A[1;1 3]←8 9 ⋄ A
8 B 9
D E F

	A←2 3 4 ⋄ A[]←9 ⋄ A
9 9 9

	A←4 3⍴⍳12 ⋄ (1 0 0/A)←1 4⍴⍳4 ⋄ A[3;1]
3

	A←3 2⍴⍳6 ⋄ (1 0/A)←'ABC' ⋄ A
A 2
B 4
C 6

	A←4 5 6 ⋄ (1 ¯1  1/A)←7 8 9 ⋄ A
7 5 9

	A←3 2⍴⍳6 ⋄ B←2 2⍴'ABCD' ⋄ (1 0 1/[1]A)←B ⋄ A
A B
3 4
C D

	A←5 6 7 8 9 ⋄ (2↓A)←⍳3 ⋄ A
5 6 1 2 3

	A←3 4⍴'ABCDEFGHIJKL' ⋄ (1 ¯1↓A)←2 3⍴⍳6 ⋄ A
A B C D
1 2 3 H
4 5 6 L

	A←2 3⍴⍳6 ⋄ (1↓[1]A)←9 8 7 ⋄ A
1 2 3
9 8 7

	A←2 3 4⍴⍳12⋄(¯1 2↓[3 2]A)←0⋄A
1 2 3  4
5 6 7  8
0 0 0 12

1 2 3  4
5 6 7  8
0 0 0 12

	A←'ABC' ⋄ (1 0 1 0 1\A)←⍳5 ⋄ A
1 3 5

	A←2 3⍴⍳6 ⋄ (1 0 1 1\A)←10×2 4⍴⍳8 ⋄ A
10 30 40
50 70 80

	A←3 2⍴⍳6 ⋄ (1 1 0 0 1\[1]A)←5 2⍴-⍳10 ⋄ A
¯1  ¯2
¯3  ¯4
¯9 ¯10

	A←2 3⍴⍳6 ⋄ (,A)←10×⍳6 ⋄ A
10 20 30
40 50 60

	A←2 3 4⍴⍳24 ⋄ (,[2 3]A)←2 12⍴-⍳24⋄⍴A⋄A[2;3;]
2 3 4
¯21 ¯22 ¯23 ¯24

	A←'GROWTH' ⋄ (2 3⍴A)←2 3⍴-⍳6 ⋄ (4⍴A)←⍳4 ⋄ A
1 2 3 4 ¯5 ¯6

	A←3 4⍴⍳12 ⋄ (⌽A)←3 4⍴'STOPSPINODER' ⋄ A
P O T S
N I P S
R E D O

	A←2 3⍴⍳6 ⋄ (⌽[1]A)←2 3⍴-⍳6 ⋄ A
¯4 ¯5 ¯6
¯1 ¯2 ¯3

	A←⍳6 ⋄ (2⌽A)←10×⍳6 ⋄ A
50 60 10 20 30 40

	A←3 4⍴⍳12 ⋄ (1 ¯1 2 ¯2⊖A)←3 4⍴4×⍳12 ⋄ A
36 24 28 48
4 40 44 16
20  8 12 32

	A←3 4⍴⍳12 ⋄ (1 ¯1 2 ¯2⌽[1]A)←3 4⍴4×⍳12 ⋄ A
36 24 28 48
4 40 44 16
20  8 12 32

	A←⍳5 ⋄ (2↑A)← 10 20 ⋄ A
10 20 3 4 5

	A←2 3⍴⍳6 ⋄ (¯2↑[2]A)←2 2⍴10×⍳4 ⋄ A
1 10 20
4 30 40

	A←3 3⍴⍳9 ⋄ (1 1⍉A)←10 20 30 ⋄ A
10  2  3
4 20  6
7  8 30

	A←3 3⍴'STYPIEANT' ⋄ (⍉A)←3 3⍴⍳9 ⋄ A
1 4 7
2 5 8
3 6 9

⍝ TODO: First (↓) and Pick (⊃) are not implemented
```
## Lambda expressions
[→apl/lambda.go](apl/lambda.go)

```apl
	{2×⍵}3
6

	2{⍺+3{⍺×⍵}⍵+2}2
14

	2{(⍺+3){⍺×⍵}⍵+⍺{⍺+1+⍵}1+2}2
40

	1{1+⍺{1+⍺{1+⍺+⍵}1+⍵}1+⍵}1
7

	2{}4


	{⍺×⍵}/2 3 4
24

	{1:1+2⋄{1:1+⍵}3}4
3

```
## Evaluation order
[→apl/function.go](apl/function.go)

```apl
	A←1⋄A+(A←2)
4

	A+A←3
6

	A←1⋄A{(⍺ ⍵)}A+←10
11 10

```
## Lexical scoping
[→apl/lambda.go](apl/lambda.go)

```apl
	A←1⋄{A←2⋄A}0⋄A
2
1

	X←{A←3⋄B←4⋄0:ignored⋄42}0⋄X⋄A⋄B
42
A
B

	{A←1⋄{A←⍵}⍵+1}1
2

	A←1⋄S←{A←2}0⋄A
1

	A←1⋄S←{A⊢←2}0⋄A
2

	A←1⍴1⋄S←{A[1]←2}0⋄A
2

	A←1⋄{A+←1⋄A}0⋄A
2
2

	+X←{A←3⋄B←4}0
4

```
## Default left argument
[→apl/lambda.go](apl/lambda.go)

```apl
	f←{⍺←3⋄⍺+⍵}⋄ f 4 ⋄ 1 f 4
7
5

```
## Recursion
[→apl/lambda.go](apl/lambda.go)

```apl
	S←0.0 n→f "%.0f" ⋄ f←{⍵≤1: 1 ⋄ ⍵×∇⍵-1} ⋄ f 10
3628800

	S←0{⍺>20:⍺⋄⍵∇⎕←⍺+⍵}1
1
2
3
5
8
13
21
34

```
## Tail call
[→apl/lambda.go](apl/lambda.go)

```apl
	{⍵>1000:⍵⋄∇⍵+1}1
1001

```
## Trains, forks, atops
[→apl/train.go](apl/train.go)

```apl
	-,÷ 5
¯0.2

	(-,÷)5
¯5 0.2

	3(+×-)1
8

	(+⌿÷≢)3+⍳13
10

	(⍳{⍺/⍵}⍳)3
1 2 2 3 3 3

	(2/⍳)3
1 1 2 2 3 3

	6(+,-,×,÷)2
8 4 12 3

	6(⌽+,-,×,÷)2
3 12 4 8

	(⍳12) (⍳∘1 ≥)9
9

	(*-)1
0.36788

	2(*-)1
2.7183

	1(*-)2
0.36788

	3(÷+×-)1
0.125

	(÷+×-)4
¯0.0625

	(⌊÷+×-)4
¯0.25

	6(⌊÷+×-)4
0.2

	(3+*)4
57.598

```
## Go interface package strings
[→apl/strings/register.go](apl/strings/register.go)

```apl
	u←s→toupper ⋄ u "alpha"
ALPHA

	";" s→join "alpha" "beta" 
alpha;beta

```
## Lists
[→apl/list.go](apl/list.go)

```apl
	(1;2;)
(1;2;)

	(1 5 9;(2;3+4;);)
(1 5 9;(2;7;);)

	(+;1;2;)
(+;1;2;)

	(/;+;1;2;)
(/;+;1;2;)

	(.;+;×;1 2;3 4;)
(.;+;×;1 2;3 4;)

	1 2 3+(4;5;6;)
5 7 9

	+/(1;2;3;)
6

	+/(1;2;(3;4;);)
6 7

```
## Lists catenate, enlist, cut, each
[→apl/primitives/comma.go](apl/primitives/comma.go)

```apl
	1,(2;3;)
(1;2;3;)

	(1;2;),3
(1;2;3;)

	(1;2;),(3;4;)
(1;2;3;4;)

	((1;2;);(3;4;);),(5;6;)
((1;2;);(3;4;);5;6;)

	∊3
(3;)

	∊⍳0
(;)

	∊(1;2;3;)
(1;2;3;)

	∊(1;(2;3;);(4;(5;6;););7 8 9;)
(1;2;3;4;5;6;7 8 9;)

	1 3↓(1;2;3;)
((1;2;);(3;);)

	(1;2;(3;4;);)+¨(1;2;(3;4;);)
(2;4;6 8;)

	≢¨(1;2;(3;4;);)
(1;1;2;)

```
## List indexing
[→apl/primitives/index.go](apl/primitives/index.go)

```apl
	L←(1;2;)⋄L[2]
2

	L←(1;(2;3;);4;)⋄L[2;1]
2

	L←(1;(2;3;);4;)⋄L[0]
4

	L←(1;(2;3;);4;)⋄L[2;0]
3

	L←(1;(2;3;);4;)⋄L[2]
(2;3;)

	L←(1;(2;3;);4;)⋄L[2][2]
3

```
## Indexing with lists is not supported

```apl
```
## List indexed assignment
[→apl/primitives/index.go](apl/primitives/index.go)

```apl
	L←(1;2;)⋄L[1]←3⋄L
(3;2;)

	L←(1;(2;3;);4;)⋄L[2;1]←5⋄L
(1;(5;3;);4;)

	L←(1;(2;3;);4;)⋄L[2;0]←5⋄L
(1;(2;5;);4;)

	L←(1;(2;3;);4;)⋄L[2;¯1]×←5⋄L
(1;(10;3;);4;)

```
## Dictionaries
[→apl/object.go](apl/object.go)

```apl
	D←`alpha#1 2 3⋄D[`alpha]←`xyz⋄D
alpha: xyz

	D←`alpha#1⋄D[`alpha`beta]←3 4⋄D
alpha: 3
beta:  4

	D←`a`b`c#1⋄D⋄#D
a: 1
b: 1
c: 1
a b c

	D←`a`b`c#1 2 3⋄G←D[`a`c]⋄G
a: 1
c: 3

```
## Table, transpose a dict to create a table
[→apl/primitives/transpose.go](apl/primitives/transpose.go)

```apl
	⍉`a`b#1 2
a b
1 2

	⍉`a`b`c#(1 2 3;4 5 6;7 8 9;)
a b c
1 4 7
2 5 8
3 6 9

	⍉⍉`a`b`c#(1 2 3;4 5 6;7 8 9;)
a: 1 2 3
b: 4 5 6
c: 7 8 9

	⍴`a`b#(1 2 3;4 5 6;)
2

	⍴⍉`a`b#(1 2 3;4 5 6;)
3 2

```
## Indexing tables
[→apl/primitives/index.go](apl/primitives/index.go)

```apl
	T←⍉`a`b#1 2⋄T[1]
a b
1 2

	T←⍉`a`b#(1;3;)⋄T[1]
a b
1 3

	T←⍉`a`b#(1 2 3;3 4 5;)⋄T[1]
a b
1 3

	T←⍉`a`b#(1 2 3;3 4 5;)⋄T[1;]
(1;3;)

	T←⍉`a`b#(1 2 3;3 4 5;)⋄T[1 3]
a b
1 3
3 5

	T←⍉`a`b#(1 2 3;3 4 5;)⋄T[1 3;]
a b
1 3
3 5

	T←⍉`a`b#(1 2 3;3 4 5;)⋄T[0 1]
a b
3 5
1 3

	T←⍉`a`b`c#(1 2 3;4 5 6;7 8 9;)⋄T[;`b]
b
4
5
6

	T←⍉`a`b`c#(1 2 3;4 5 6;7 8 9;)⋄(⍉T)[`b]
4 5 6

	T←⍉`a`b`c#(1 2 3;4 5 6;7 8 9;)⋄T[1 2;`b]
b
4
5

	T←⍉`a`b`c#(1 2 3;4 5 6;7 8 9;)⋄T[¯1;`c]
8

⍝ TODO: Assignment on tables, updates
```
## Elementary functions on dicts and tables
[→apl/primitives/elementary.go](apl/primitives/elementary.go)

```apl
	A←`a`b#(1 2;3 4;)⋄-A
a: ¯1 ¯2
b: ¯3 ¯4

	A←⍉`a`b#(1 2;3 4;)⋄-A
a  b
¯1 ¯3
¯2 ¯4

	A←`a`b#(1 2;3 4;)⋄B←`a`b#(9 8;7 6;)⋄B-A
a: 8 6
b: 4 2

	A←`a`b#(1 2;3 4;)⋄B←`b`c#(9 8;7 6;)⋄B-A
b: 6 4
c: 7 6
a: ¯1 ¯2

	A←⍉`a`b#(1 2;3 4;)⋄B←⍉`b`c#(9 8;7 6;)⋄B-A
b c a
6 7 ¯1
4 6 ¯2

	A←⍉`a`b#(1 2;3 4;)⋄A-3
a  b
¯2 0
¯1 1

	A←`a`b#(1 2;3 4;)⋄A-5 7
a: ¯4 ¯5
b: ¯2 ¯3

	A←`a`b#(1 2;3 4;)⋄3-A
a: 2 1
b: 0 ¯1

```
## Catenate tables or objects
[→apl/primitives/comma.go](apl/primitives/comma.go)

```apl
	A←`a`b#(1 2;3 4;)⋄B←`a`b#(5 6;7 8;)⋄A,B
a: 1 2 5 6
b: 3 4 7 8

	A←`a`b#(1 2;3 4;)⋄B←`b`c#(5 6;7 8;)⋄A,B
a: 1 2
b: 3 4 5 6
c: 7 8

	A←`a`b#(1 2;3 4;)⋄B←`a`b#(5 6;7 8;)⋄A⍪B
a: 5 6
b: 7 8

	A←`a`b#(1 2;3 4;)⋄B←`b`c#(5 6;7 8;)⋄A⍪B
a: 1 2
b: 5 6
c: 7 8

	A←⍉`a`b#(1 2;3 4;)⋄B←⍉`a`b#(5 6;7 8;)⋄A,B
a b
5 7
6 8

	A←⍉`a`b#(1 2;3 4;)⋄B←⍉`b`c#(5 6;7 8;)⋄A,B
a b c
1 5 7
2 6 8

	A←⍉`a`b#(1 2;3 4;)⋄B←⍉`a`b#(5 6;7 8;)⋄A⍪B
a b
1 3
2 4
5 7
6 8

	A←⍉`a`b#(1 2;3 4;)⋄A⍪5
a b
1 3
2 4
5 5

	A←⍉`a`b#(1 2;3 4;)⋄A,5 6
a b
1 3
2 4
5 5
6 6

	A←⍉`a`b#(1 2;3 4;)⋄5 6,A
a b
5 5
6 6
1 3
2 4

	A←`a`b#(1 2;3 4;)⋄A,5
a: 1 2 5
b: 3 4 5

	A←`a`b#(1 2;3 4;)⋄5 6⍪A
a: 5 6 1 2
b: 5 6 3 4

```
## Reduction over objects and tables
[→apl/operators/reduce.go](apl/operators/reduce.go)

```apl
	+/`a`b`c#(1 2 3;4 6;7;)
a: 6
b: 10
c: 7

	+\`a`b`c#(1 2 3;4 6;7;)
a: 1 3 6
b: 4 10
c: 7

	+/⍉`a`b`c#(1 2 3;4 5 6;7 8 9;)
a b  c
6 15 24

	+\⍉`a`b`c#(1 2 3;4 5 6;7 8 9;)
a b  c
1 4  7
3 9  15
6 15 24

	2+/`a`b#(1 2 3;4 6 7;)
a: 3 5
b: 10 13

	2+/⍉`a`b#(1 2 3;4 6 7;)
a b
3 10
5 13

```
## Object, xgo example
[→apl/xgo/register.go](apl/xgo/register.go)

```apl
	X←xgo→t 0⋄X[`V]←`a`b⋄X[`V]
a b

	X←xgo→t 0⋄X[`I]←55⋄X[`inc]⍨0⋄X[`I]

56

	X←xgo→t 0⋄X[`V]←'abcd'⋄X[`join]⍨'+'
4 a+b+c+d

	S←xgo→s 0⋄#[1]S
sum

```
## Channels read, write and close
[→apl/primitives/take.go](apl/primitives/take.go)

```apl
	C←xgo→source 6⋄2 3↑C
0 1 2
3 4 5

	C←xgo→source 6⋄↑C⋄↑C⋄↓C
0
1
1

```
## Reduce, scan and each over channel
[→apl/operators/reduce.go](apl/operators/reduce.go)

```apl
	C←xgo→source 6⋄+/C
15

	C←xgo→source 6⋄+\C
0 1 3 6 10 15

	C←xgo→source 6⋄+¨C
(0;1;2;3;4;5;)

	C←xgo→source 4⋄5+¨C
(5;6;7;8;)

```
## Communicate over a channel
[→apl/channel.go](apl/channel.go)

```apl
	C←xgo→echo"?"⋄C↓'a'⋄C↓'b'⋄2↑C⋄↓C
a
b
?a ?b
1

```
## Primes

```apl
	f←{(2=+⌿0=X∘.|X)⌿X←⍳⍵} ⋄ f 42
2 3 5 7 11 13 17 19 23 29 31 37 41

	⎕IO←0 ⋄ f←{(~X∊X∘.×X)⌿X←2↓⍳⍵} ⋄ f 42
2 3 5 7 11 13 17 19 23 29 31 37 41

```
## π

```apl
	.5*⍨6×+/÷2*⍨⍳1000
3.1406

	4×-/÷¯1+2×⍳100
3.1316

	4×+/{(⍵ ⍴ 1 0 ¯1 0)÷⍳⍵}100
3.1216

```
## Conway-completeness

```apl
	A←5 5⍴(23⍴2)⊤1215488⋄l←{3=S-⍵∧4=S←({+/,⍵}⌺3 3)⍵}⋄(l⍣8)A
0 0 0 0 0
0 0 0 0 0
0 0 0 0 1
0 0 1 0 1
0 0 0 1 1

PASS
ok  	github.com/ktye/iv/apl/primitives	0.876s
```
